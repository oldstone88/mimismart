1. Создаем поле long-text для показаний счетчика. Пример создания: <item addr="512:150" length="0" name="Счетчик" sub-type="long-text" type="virtual"/> 
2. Заносим корректные параметры в 85.sh (id  и sid long-text; IP шлюза; полный путь к файлу, где будут храниться значения; значение AddedValue, на которое увеличивается показание счетчика при VALUE_TO_SAVE)
3. 85.sh переносим в папку exe , импортим скрипт impulseCounter.txt  в логику: <import-script IMPULSE="512:27" VALUE_TO_SAVE="5" id="512" path="scripts/impulseCounter.txt"/>, где IMPULSE - id:sid геркона счетчика, VALUE_TO_SAVE - количество импульсов, соотвествующих одному значению счетчика (например, за прокручивание 1 кВт счетчик даст 5 импульсов - вписываем 5) 
4. Создаем файл, в котором будут храниться показания, в файле подставляем текущие значения счетчика.
5. Даем права на исполнение файлу 85.sh ( chmod +x 85.sh )